ACT DR6 CMB lensing map release
===============================

Version: v1
Date: Nov 1, 2023
Contacts:
- Mathew Madhavacheril (mathm@sas.upenn.edu)
- Frank Qu (frankqu7@gmail.com)
- Gerrit Farren (gsf29@cam.ac.uk)

This directory contains gravitational lensing convergence maps (in Equatorial
coordinates) from measurements of the CMB made by the Atacama Cosmology Telescope
Data Release 6.

NOTE: This tarball on LAMBDA only includes the data maps and not the accompanying simulations. The full release including the suite of 400 simulated reconstructions can be accessed on the NERSC filesystem at the location /global/cfs/projectdirs/act/www/dr6_lensing_v1/ or through this http url: https://portal.nersc.gov/project/act/dr6_lensing_v1/ .

Credit
------

If you use the data products in this directory, please cite:
1. M. Madhavacheril et al, arxiv:2304.05203, ApJ
2. F. Qu et al, arxiv:2304.05202, ApJ

If you use the accompanying simulations, please also cite the
following paper in addition to the above two:
3. G. Farren et al, arxiv:2309.05659

Variants
--------

We provide several map variants in the directories `maps/{$VARIANT}`.
We recommend using `baseline` for your cosmology or astrophysics inference.
These variants are described briefly below, but we recommend referring
to Madhavacheril et al and Qu et al for details.

1. baseline:
   The baseline map used in the ACT DR6 lensing cosmology analysis, made
   from all temperature and polarization data, and using a profile-hardening
   estimator for foreground mitigation.

2. ponly:
   A map that only uses polarization data
   
3. tonly:
   A map that only uses temperature data
   
4. cibdeproj:
   A map that uses CIB deprojection in lieu of profile-hardening as an
   alternative method for foreground mitigation
   
5. f090:
   A map that only uses 90 GHz data from ACT
   
6. f150:
   A map that only uses 150 GHz data from ACT
   
7. f090_tonly:
   A map that only uses 90 GHz temperature data from ACT

8. f150_tonly:
   A map that only uses 150 GHz temperature data from ACT

9. galcut040:
   A map that is reconstructed on a more restricted area that discards
   more regions closer to the Galactic plane

10. galcut040_ponly:
   A map that is reconstructed on a more restricted area that discards
   more regions closer to the Galactic plane, using only polarization
   data

11. diff_f150_f090:
   A map reconstructed from a difference of maps at 150 GHz and 90 GHz.
   This is a null map; it  is not expected to contain any cosmological signal.

12. diff_f150_f090_tonly:
   A map reconstructed from a difference of temperature maps at 150 GHz and 90 GHz.
   This is a null map; it  is not expected to contain any cosmological signal.

13. curl:
   A map that reconstructs a curl component, which is expected to be
   a null map with no cosmological signal.


Products
--------

Products associated with each variant are provided in sub-directories.
For each variant {$VARIANT} from the list above, we provide the following.

1. Map alm modes: {$VARIANT}/kappa_alm_data_act_dr6_lensing_v1_{$VARIANT}.fits
2. Mask: {$VARIANT}/mask_act_dr6_lensing_v1_healpix_nside_4096_{$VARIANT}.fits
3. Filter: {$VARIANT}/kappa_filter_act_dr6_lensing_v1_{$VARIANT}.txt
4. Noise per mode: {$VARIANT}/N_L_act_dr6_lensing_v1_{$VARIANT}.txt
5. Simulated map alm modes: {$VARIANT}/simulations/kappa_alm_sim_act_dr6_lensing_v1_{$VARIANT}_{$i}.fits

Products: Map
-------------

The map alm modes are the spherical harmonic modes of the CMB lensing convergence (kappa)
provided in the healpy indexing scheme for alm's. They correspond to modes of a map
described in Equatorial coordinates, as opposed to the Galactic coordinates
used by Planck products. These spherical harmonic modes may be be projected
to a pixelization of your choice, although note that we provide a mask
(described below) in HEALpix format.

Products: Filter
----------------

The modes are only non-zero for 2 <= L <= 3000, as explicitly described in
the filter file (which lists ones for multipoles in this range, and zeros
elsewhere). However, not all modes within that range may be reliable
for use in analysis. We refer the user to the references above and encourage
the use of simulations to assess the validity of the multipole range
used, which will depend on the exact application.

Products: Noise per mode
------------------------

The noise per mode file provides an N_L curve appropriate for use in forecasting for
cross-correlations. Due to the use of a split-cross-correlation-based estimator,
this noise curve is *not* an estimate of the N_0 bias seen when taking the
power spectrum of the provided maps. The noise is an estimate over the full
footprint of the map; estimates over smaller footprints may differ substantially,
and so this curve should only be used for approximate forecasting.

Products: Simulations
---------------------

In order to facilitate interpretation of the lensing maps and their noise
properties, we provide a set of 400 simulations for each variant. These
simulations are made as follows:  we generate input lensing convergence
fields as Gaussian random fields from a fiducial lensing convergence
spectrum. These are used to lens Gaussian CMB temperature and polarization maps
drawn from a fiducial unlensed CMB temperature and polarization power spectra.
These CMB maps are then processed through the ACT simulation pipeline to
create mock ACT data-sets, which are then processed through the CMB
lensing reconstruction pipeline to produce output lensing
convergence reconstructions.  We provide the input lensing convergence fields
in `sim_inputs/kappa_alm/` and the simulated reconstructions corresponding
to these for each variant in `maps/{$VARIANT}/simulations/`. The theory spectra
used to generate the inputs to the simulations along with their CAMB configuration
file are provided (in standard CAMB format) in `sim_inputs/theory`. These
are identical to those used in the earlier ACT DR4 release.

These reconstructed lensing convergence maps have the same interpretation
as the data map for that variant.  In combination with the inputs in
the `sim_inputs/kappa_alm/` the reconstructed simulations for each variant
should be used to (a) estimate a transfer function for
cross-correlations (see Mask section below) and (b) estimate covariance matrices if needed.
We reiterate that the inputs to the simulations do not come from N-body or large-scale
structure simulations but are simply Gaussian realizations generated from
fiducial theory spectra, and so they are limited to the above applications.


Products: Mask
--------------

We provide a mask in HEALpix format with nside=4096 in Equatorial coordinates.
This mask was applied to the CMB map before use in the lensing quadratic
estimator (which involves two powers of the CMB map). It is apodized and contains
ones in most of the footprint, which transition to zero smoothly near the
edges. For a real-space analysis, we recommend rejecting points where
this mask is different from 1 (e.g. mask<0.99) and forward modeling the
effect of the filter on your signal from harmonic space to real-space. The
default filter (as specified in the filter file) is 2 <= L <= 3000, however,
you will likely need to exclude more modes for robust results.

For a harmonic-space analysis, the effect of the mask must be deconvolved
(e.g. using the MASTER algorithm). This is not straightforward due to the mask
having been applied before applying a quadratic function to the CMB map.
We therefore highly recommend the following procedure:
(a) in a cross-correlation involving the ACT map K (with the ACT mask M_K)
and an external large-scale structure map L (with mask M_L, where the
observed map L is linear in M_L), use the MASTER algorithm with
mask M_K**2 associated with K and M_L associated with L.
(b) repeat this procedure on the provided 400 simulations by doing a similar
cross-correlation of the reconstruction simulations in `maps\{$VARIANT}\simulations\`
(masked with M_K and corrected with M_K**2 in the MASTER code) with the
input lensing convergence fields in `sim_inputs/kappa_alm`
(masked with M_L and corrected with M_L in the MASTER code).

The procedure in (b) is essential to estimate a small residual transfer
function (at the few percent level) that will exist because deconvolution
with M_K**2 is an approximation and because the mask M_L may select
a region very different from the region M_K that was used to correctly
normalize the map.


